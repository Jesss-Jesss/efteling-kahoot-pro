<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <title>Efteling Kahoot Pro - Dashboard</title>
    <link rel="stylesheet" href="/style.css">
    <script src="/socket.io/socket.io.js"></script>
    <script src="/script.js" defer></script>
</head>
<body>
    <div id="background"></div>

    <div id="dashboard">
        <h1>ðŸŽ¢ Efteling Kahoot Pro</h1>

        <!-- Game code -->
        <div class="block">
            <h2>Game Code</h2>
            <p id="gameCode">---</p>
        </div>

        <!-- Spelers -->
        <div class="block">
            <h2>Spelers</h2>
            <ul id="playersList"></ul>
        </div>

        <!-- Foutmeldingen -->
        <div class="block">
            <h2>Foutmeldingen</h2>
            <ul id="errorsList"></ul>
        </div>

        <!-- Control -->
        <div class="block">
            <h2>Control</h2>
            <button id="prevQuestion">Vorige</button>
            <button id="nextQuestion">Volgende</button>
            <button id="startQuestion">Start Vraag</button>
            <button id="stopQuestion">Stop Vraag</button>
        </div>

        <!-- Antwoorden -->
        <div class="block">
            <h2>Antwoorden</h2>
            <ul id="answersList"></ul>
        </div>
    </div>
</body>
</html>

<h2 id="gameCode"></h2>
<img id="qr">

<script>
fetch("/start-game", { method: "POST" })
.then(res => res.json())
.then(data => {

    const fullUrl = window.location.origin + data.playerUrl;

    document.getElementById("gameCode").innerText =
        "Game ID: " + data.gameId;

    document.getElementById("qr").src =
        "https://api.qrserver.com/v1/create-qr-code/?size=250x250&data=" + fullUrl;
});
</script>
