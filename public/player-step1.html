<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <title>Game Join</title>
    <link rel="stylesheet" href="/style.css">
</head>
<body>
    <div id="step1">
        <h1>ðŸŽ¢ Vul de Game-ID in</h1>
        <form id="gameIdForm">
            <input type="text" id="gameId" placeholder="Bijv. EFTEL-1234" required>
            <button type="submit">Volgende</button>
        </form>
        <p id="errorMsg"></p>
    </div>

   <script>
document.addEventListener("DOMContentLoaded", function () {

    const form = document.getElementById("gameIdForm");
    const input = document.getElementById("gameId");
    const error = document.getElementById("errorMsg");

    // ðŸ”¥ Game-id uit QR automatisch invullen
    const params = new URLSearchParams(window.location.search);
    const gameFromQR = params.get("game");

    if (gameFromQR) {
        input.value = gameFromQR;
    }

    form.addEventListener("submit", function (e) {
        e.preventDefault(); // ðŸš€ voorkomt reload

        const id = input.value.trim();

        if (id === "") {
            error.innerText = "Vul een geldige Game-ID in!";
            return;
        }

        localStorage.setItem("gameId", id);

        // ðŸ”¥ GA NAAR STAP 2
        window.location.href = "/player-step2.html";
    });

});
</script>
